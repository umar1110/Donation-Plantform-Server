2026-01-17 21:35:51 [INFO]: New database connection established
2026-01-17 21:35:51 [INFO]: Schema migration tracking initialized
2026-01-17 21:35:51 [INFO]: Starting schema migrations for all tenants...
2026-01-17 21:35:51 [INFO]: All migrations completed
2026-01-18 16:00:44 [INFO]: New database connection established
2026-01-18 16:01:09 [INFO]: New database connection established
2026-01-18 16:04:14 [INFO]: New database connection established
2026-01-18 16:04:14 [INFO]: New database connection established
2026-01-18 16:05:30 [INFO]: New database connection established
2026-01-18 16:05:30 [INFO]: New database connection established
2026-01-18 16:05:36 [INFO]: New database connection established
2026-01-18 16:06:45 [INFO]: New database connection established
2026-01-18 16:06:45 [INFO]: New database connection established
2026-01-18 16:08:08 [INFO]: New database connection established
2026-01-18 16:08:08 [INFO]: New database connection established
2026-01-18 16:08:08 [ERROR]: Error occurred: invalid input syntax for type uuid: "0927902q7412" {"stack":"error: invalid input syntax for type uuid: \"0927902q7412\"\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg-pool/index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TenantService.getTenantInfo (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/services/teanant.service.ts:7:24)\n    at tenantHandler (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/middleware/tenant-handler.ts:23:24)","path":"/test","method":"GET"}
2026-01-18 16:08:27 [INFO]: New database connection established
2026-01-18 16:08:27 [INFO]: New database connection established
2026-01-18 16:08:27 [ERROR]: Error occurred: invalid input syntax for type uuid: "0927902q7412" {"stack":"error: invalid input syntax for type uuid: \"0927902q7412\"\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg-pool/index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TenantService.getTenantInfo (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/services/teanant.service.ts:7:24)\n    at tenantHandler (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/middleware/tenant-handler.ts:23:24)","path":"/test","method":"GET"}
2026-01-18 16:08:28 [INFO]: New database connection established
2026-01-18 16:08:28 [ERROR]: Error occurred: invalid input syntax for type uuid: "0927902q7412" {"stack":"error: invalid input syntax for type uuid: \"0927902q7412\"\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg-pool/index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TenantService.getTenantInfo (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/services/teanant.service.ts:7:24)\n    at tenantHandler (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/middleware/tenant-handler.ts:23:24)","path":"/test","method":"GET"}
2026-01-18 16:24:24 [INFO]: New database connection established
2026-01-18 16:24:24 [INFO]: Starting public schema migrations...
2026-01-18 16:24:24 [INFO]: Running migration: 001_create_tenants_table.sql
2026-01-18 16:24:24 [INFO]: ✅ Migration completed: 001_create_tenants_table.sql
2026-01-18 16:24:41 [INFO]: New database connection established
2026-01-18 16:24:41 [INFO]: Schema migration tracking initialized
2026-01-18 16:24:41 [INFO]: Starting schema migrations for all tenants...
2026-01-18 16:24:41 [INFO]: All migrations completed
2026-01-18 16:29:15 [INFO]: New database connection established
2026-01-18 16:29:15 [INFO]: Schema migration tracking initialized
2026-01-18 16:29:15 [INFO]: Starting schema migrations for all tenants...
2026-01-18 16:29:15 [INFO]: No pending migrations for tenant_supereme
2026-01-18 16:29:15 [INFO]: All migrations completed
2026-01-18 16:30:12 [INFO]: New database connection established
2026-01-18 16:30:12 [INFO]: New database connection established
2026-01-18 16:32:50 [INFO]: New database connection established
2026-01-18 16:32:50 [INFO]: New database connection established
2026-01-18 16:32:54 [INFO]: New database connection established
2026-01-18 17:34:46 [INFO]: New database connection established
2026-01-18 17:34:46 [INFO]: New database connection established
2026-01-18 17:34:53 [ERROR]: Error occurred: Test error from test route {"stack":"Error: Test error from test route\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/test/test.routes.ts:9:9\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:186:3)","path":"/test","method":"GET"}
2026-01-18 18:45:02 [ERROR]: Error occurred: [
  {
    "expected": "object",
    "code": "invalid_type",
    "path": [],
    "message": "Invalid input: expected object, received undefined"
  }
] {"stack":"ZodError: [\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  }\n]\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:5:37)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:186:3)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 18:45:25 [ERROR]: Error occurred: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "name"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "subdomain"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_name"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_email"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_password"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
] {"stack":"ZodError: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"name\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"subdomain\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_name\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_email\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_password\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  }\n]\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:5:37)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:186:3)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 18:46:30 [ERROR]: Error occurred: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "name"
    ],
    "message": "Name is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "subdomain"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_name"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_email"
    ],
    "message": "Invalid input: expected string, received undefined"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_password"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
] {"stack":"ZodError: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"name\"\n    ],\n    \"message\": \"Name is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"subdomain\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_name\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_email\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_password\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  }\n]\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:5:37)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:186:3)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 18:46:40 [ERROR]: Error occurred: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "name"
    ],
    "message": "Name is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "subdomain"
    ],
    "message": "Subdomain is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_name"
    ],
    "message": "Username is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_email"
    ],
    "message": "Email is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_password"
    ],
    "message": "Password is required"
  }
] {"stack":"ZodError: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"name\"\n    ],\n    \"message\": \"Name is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"subdomain\"\n    ],\n    \"message\": \"Subdomain is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_name\"\n    ],\n    \"message\": \"Username is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_email\"\n    ],\n    \"message\": \"Email is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_password\"\n    ],\n    \"message\": \"Password is required\"\n  }\n]\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:5:37)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:186:3)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 19:49:38 [INFO]: New database connection established
2026-01-18 19:49:38 [INFO]: Schema migration tracking initialized
2026-01-18 19:49:38 [INFO]: Starting schema migrations for all tenants...
2026-01-18 19:49:38 [INFO]: Applying 1 migrations to tenant_supereme
2026-01-18 19:49:38 [ERROR]: Migration failed: syntax error at or near "CREATE" {"length":96,"name":"error","severity":"ERROR","code":"42601","position":"444","file":"scan.l","line":"1244","routine":"scanner_yyerror","stack":"error: syntax error at or near \"CREATE\"\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:100:7\n    at async executeInSchema (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/config/database.ts:56:20)\n    at async SchemaMigrationManager.applyMigration (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:98:5)\n    at async SchemaMigrationManager.applyPendingMigrations (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:133:7)\n    at async SchemaMigrationManager.applyToAllTenants (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:151:21)\n    at async migrateAllSchemas (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/scripts/migrate-all-schemas.ts:15:25)"}
2026-01-18 19:51:06 [INFO]: New database connection established
2026-01-18 19:51:06 [INFO]: Schema migration tracking initialized
2026-01-18 19:51:06 [INFO]: Starting schema migrations for all tenants...
2026-01-18 19:51:06 [INFO]: Applying 1 migrations to tenant_supereme
2026-01-18 19:51:06 [ERROR]: Migration failed: permission denied for schema tenant_supereme {"length":108,"name":"error","severity":"ERROR","code":"42501","position":"74","file":"aclchk.c","line":"2843","routine":"aclcheck_error","stack":"error: permission denied for schema tenant_supereme\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:100:7\n    at async executeInSchema (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/config/database.ts:56:20)\n    at async SchemaMigrationManager.applyMigration (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:98:5)\n    at async SchemaMigrationManager.applyPendingMigrations (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:133:7)\n    at async SchemaMigrationManager.applyToAllTenants (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:151:21)\n    at async migrateAllSchemas (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/scripts/migrate-all-schemas.ts:15:25)"}
2026-01-18 20:10:55 [INFO]: New database connection established
2026-01-18 20:10:55 [INFO]: Schema migration tracking initialized
2026-01-18 20:10:55 [INFO]: Starting schema migrations for all tenants...
2026-01-18 20:10:55 [INFO]: Applying 1 migrations to tenant_supereme
2026-01-18 20:10:55 [INFO]: Applied migration 1_create_user_profile to tenant_supereme
2026-01-18 20:10:55 [INFO]: All migrations completed
2026-01-18 21:04:26 [INFO]: New database connection established
2026-01-18 21:04:26 [INFO]: Schema migration tracking initialized
2026-01-18 21:04:26 [INFO]: Starting schema migrations for all tenants...
2026-01-18 21:04:26 [INFO]: No pending migrations for tenant_supereme
2026-01-18 21:04:26 [INFO]: All migrations completed
2026-01-18 21:06:03 [INFO]: New database connection established
2026-01-18 21:06:03 [INFO]: Schema migration tracking initialized
2026-01-18 21:06:03 [INFO]: Starting schema migrations for all tenants...
2026-01-18 21:06:03 [INFO]: No pending migrations for tenant_supereme
2026-01-18 21:06:03 [INFO]: All migrations completed
2026-01-18 21:07:18 [ERROR]: Error occurred: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "name"
    ],
    "message": "Name is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "subdomain"
    ],
    "message": "Subdomain is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "first_name"
    ],
    "message": "First name is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "last_name"
    ],
    "message": "Last name is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_email"
    ],
    "message": "Email is required"
  },
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "user_password"
    ],
    "message": "Password is required"
  }
] {"stack":"ZodError: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"name\"\n    ],\n    \"message\": \"Name is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"subdomain\"\n    ],\n    \"message\": \"Subdomain is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"first_name\"\n    ],\n    \"message\": \"First name is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"last_name\"\n    ],\n    \"message\": \"Last name is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_email\"\n    ],\n    \"message\": \"Email is required\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user_password\"\n    ],\n    \"message\": \"Password is required\"\n  }\n]\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:6:37)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/router/index.js:186:3)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:08:37 [INFO]: New database connection established
2026-01-18 21:08:37 [ERROR]: Error occurred: null value in column "owner_id" of relation "tenants" violates not-null constraint {"stack":"error: null value in column \"owner_id\" of relation \"tenants\" violates not-null constraint\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:25:23)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:12:47 [INFO]: New database connection established
2026-01-18 21:12:47 [INFO]: Starting public schema migrations...
2026-01-18 21:12:47 [INFO]: Running migration: 001_create_tenants_table.sql
2026-01-18 21:12:47 [INFO]: ✅ Migration completed: 001_create_tenants_table.sql
2026-01-18 21:13:06 [INFO]: New database connection established
2026-01-18 21:13:06 [INFO]: Database pool closed successfully
2026-01-18 21:13:16 [INFO]: New database connection established
2026-01-18 21:13:16 [ERROR]: Error occurred: new row for relation "tenants" violates check constraint "tenants_status_check" {"stack":"error: new row for relation \"tenants\" violates check constraint \"tenants_status_check\"\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:24:23)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:15:42 [INFO]: New database connection established
2026-01-18 21:15:42 [ERROR]: Error occurred: relation "public.schema_migrations" does not exist {"stack":"error: relation \"public.schema_migrations\" does not exist\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at SchemaMigrationManager.getAppliedMigrations (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:74:20)\n    at SchemaMigrationManager.applyPendingMigrations (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:111:21)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:38:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:18:02 [INFO]: New database connection established
2026-01-18 21:18:02 [INFO]: Starting public schema migrations...
2026-01-18 21:18:02 [INFO]: Running migration: 001_create_tenants_table.sql
2026-01-18 21:18:02 [INFO]: ✅ Migration completed: 001_create_tenants_table.sql
2026-01-18 21:18:29 [INFO]: New database connection established
2026-01-18 21:18:29 [INFO]: Starting public schema migrations...
2026-01-18 21:18:29 [INFO]: Running migration: 001_create_tenants_table.sql
2026-01-18 21:18:29 [INFO]: ✅ Migration completed: 001_create_tenants_table.sql
2026-01-18 21:18:29 [INFO]: Running migration: 002_create_schema_migrations_table.sql
2026-01-18 21:18:29 [INFO]: ✅ Migration completed: 002_create_schema_migrations_table.sql
2026-01-18 21:19:09 [INFO]: New database connection established
2026-01-18 21:19:09 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:19:09 [ERROR]: Error occurred: fn is not a function {"stack":"TypeError: fn is not a function\n    at clientToUse (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:91:28)\n    at SchemaMigrationManager.applyMigration (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:94:11)\n    at SchemaMigrationManager.applyPendingMigrations (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:121:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:38:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:22:05 [INFO]: New database connection established
2026-01-18 21:22:05 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:22:05 [ERROR]: Error occurred: relation "user_profile" does not exist {"stack":"error: relation \"user_profile\" does not exist\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:95:7\n    at SchemaMigrationManager.applyMigration (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:94:5)\n    at SchemaMigrationManager.applyPendingMigrations (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/utils/schema-migration-manager.ts:121:7)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:38:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:26:14 [INFO]: New database connection established
2026-01-18 21:26:14 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:26:14 [INFO]: Applied migration 1_create_user_profile to tenant_supreme2
2026-01-18 21:26:14 [INFO]: New database connection established
2026-01-18 21:26:14 [ERROR]: Error occurred: relation "tenant_supreme2.user_profiles" does not exist {"stack":"error: relation \"tenant_supreme2.user_profiles\" does not exist\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg-pool/index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:53:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:28:32 [INFO]: New database connection established
2026-01-18 21:28:32 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:28:32 [INFO]: Applied migration 1_create_user_profile to tenant_supreme2
2026-01-18 21:28:32 [ERROR]: Error occurred: Failed to create auth user {"stack":"Error: Failed to create auth user\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:49:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:29:24 [INFO]: New database connection established
2026-01-18 21:29:24 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:29:24 [INFO]: Applied migration 1_create_user_profile to tenant_supreme2
2026-01-18 21:29:24 [ERROR]: Error occurred: Failed to create auth user {"stack":"Error: Failed to create auth user\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:29:58 [INFO]: New database connection established
2026-01-18 21:29:58 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:29:58 [INFO]: Applied migration 1_create_user_profile to tenant_supreme2
2026-01-18 21:29:58 [INFO]: New database connection established
2026-01-18 21:29:58 [ERROR]: Error occurred: relation "tenant_supreme2.user_profiles" does not exist {"stack":"error: relation \"tenant_supreme2.user_profiles\" does not exist\n    at /Users/mac/XenithPulse/ERP_SCHOOL/server/node_modules/pg-pool/index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:54:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:30:15 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:30:15 [INFO]: Applied migration 1_create_user_profile to tenant_supreme2
2026-01-18 21:30:15 [ERROR]: Error occurred: Failed to create auth user {"stack":"Error: Failed to create auth user\n    at createTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/tenant.repository.ts:50:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at registerNewTenant (/Users/mac/XenithPulse/ERP_SCHOOL/server/src/modules/tenants/teanant.controller.ts:8:18)","path":"/api/v1/tenants","method":"POST"}
2026-01-18 21:31:23 [INFO]: New database connection established
2026-01-18 21:31:23 [INFO]: Applying 1 migrations to tenant_supreme2
2026-01-18 21:31:23 [INFO]: Applied migration 1_create_user_profile to tenant_supreme2
