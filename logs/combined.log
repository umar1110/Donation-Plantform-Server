2026-01-28 07:34:08 [INFO]: New database connection established
2026-01-28 07:34:08 [INFO]: Database connection successful: {"now":"2026-01-28T02:34:08.894Z"}
2026-01-28 07:34:56 [INFO]: New database connection established
2026-01-28 07:34:56 [INFO]: Database connection successful: {"now":"2026-01-28T02:34:56.380Z"}
2026-01-28 07:35:07 [INFO]: New database connection established
2026-01-28 07:35:07 [INFO]: Database connection successful: {"now":"2026-01-28T02:35:07.331Z"}
[2026-01-28 07:35:39] [INFO]: New database connection established
[2026-01-28 07:35:39] [INFO]: Database connection successful: {"now":"2026-01-28T02:35:39.706Z"}
[2026-01-28 07:35:48] [INFO]: New database connection established
[2026-01-28 07:35:48] [INFO]: Database connection successful: {"now":"2026-01-28T02:35:48.803Z"}
[2026-01-28 07:36:18] [INFO]: New database connection established
[2026-01-28 07:36:18] [ERROR]: Database connection successful: {"now":"2026-01-28T02:36:18.436Z"}
[2026-01-28 07:36:46] [INFO]: New database connection established
[2026-01-28 07:36:46] [INFO]: Database connection successful: {"now":"2026-01-28T02:36:46.378Z"}
[2026-01-28 07:37:04] [INFO]: New database connection established
[2026-01-28 07:37:04] [INFO]: Database connection successful: Wed Jan 28 2026 07:37:04 GMT+0500 (Pakistan Standard Time)
[2026-01-28 07:37:39] [INFO]: New database connection established
[2026-01-28 07:37:39] [INFO]: Database connection successful: Wed Jan 28 2026 07:37:39 GMT+0500 (Pakistan Standard Time)
[2026-01-28 07:40:14] [INFO]: New database connection established
[2026-01-28 07:40:14] [INFO]: Database connection successful: Wed Jan 28 2026 07:40:14 GMT+0500 (Pakistan Standard Time)
[2026-01-28 07:40:23] [INFO]: New database connection established
[2026-01-28 07:40:23] [INFO]: Database connection successful: Wed Jan 28 2026 07:40:23 GMT+0500 (Pakistan Standard Time)
[2026-01-28 07:40:33] [INFO]: New database connection established
[2026-01-28 07:40:33] [INFO]: Database connection successful: Wed Jan 28 2026 07:40:33 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:04:06] [INFO]: New database connection established
[2026-01-28 09:04:06] [INFO]: Starting public schema migrations...
[2026-01-28 09:04:06] [INFO]: Running migration: 001_create_orgs_table.sql
[2026-01-28 09:04:06] [INFO]: ✅ Migration completed: 001_create_orgs_table.sql
[2026-01-28 09:04:06] [INFO]: Running migration: 002_create_schema_migrations_table.sql
[2026-01-28 09:04:06] [INFO]: ✅ Migration completed: 002_create_schema_migrations_table.sql
[2026-01-28 09:05:59] [INFO]: New database connection established
[2026-01-28 09:05:59] [INFO]: Starting public schema migrations...
[2026-01-28 09:05:59] [INFO]: Running migration: 001_create_orgs_table.sql
[2026-01-28 09:05:59] [ERROR]: ❌ Migration failed: cannot change name of input parameter "p_tenant_name" {"length":167,"name":"error","severity":"ERROR","code":"42P13","hint":"Use DROP FUNCTION generate_schema_name(text) first.","file":"pg_proc.c","line":"486","routine":"ProcedureCreate","stack":"error: cannot change name of input parameter \"p_tenant_name\"\n    at /Users/mac/My Projects/DonationPlatform/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchemaMigrationManager.runPublicMigrations (/Users/mac/My Projects/DonationPlatform/server/src/utils/schema-migration-manager.ts:158:9)\n    at async runAllPublicMigrations (/Users/mac/My Projects/DonationPlatform/server/src/scripts/run-migrations.ts:6:5)"}
[2026-01-28 09:07:06] [INFO]: New database connection established
[2026-01-28 09:07:06] [INFO]: Starting public schema migrations...
[2026-01-28 09:07:06] [INFO]: Running migration: 001_create_orgs_table.sql
[2026-01-28 09:07:06] [INFO]: ✅ Migration completed: 001_create_orgs_table.sql
[2026-01-28 09:07:06] [INFO]: Running migration: 002_create_schema_migrations_table.sql
[2026-01-28 09:07:06] [INFO]: ✅ Migration completed: 002_create_schema_migrations_table.sql
[2026-01-28 09:22:54] [INFO]: New database connection established
[2026-01-28 09:22:54] [INFO]: Database connection successful: Wed Jan 28 2026 09:22:54 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:23:20] [INFO]: New database connection established
[2026-01-28 09:23:20] [INFO]: Database connection successful: Wed Jan 28 2026 09:23:20 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:23:25] [INFO]: New database connection established
[2026-01-28 09:23:25] [INFO]: Database connection successful: Wed Jan 28 2026 09:23:25 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:23:29] [INFO]: New database connection established
[2026-01-28 09:23:29] [INFO]: Database connection successful: Wed Jan 28 2026 09:23:29 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:23:42] [INFO]: New database connection established
[2026-01-28 09:23:42] [INFO]: Database connection successful: Wed Jan 28 2026 09:23:42 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:28:35] [ERROR]: Error occurred: [
  {
    "expected": "object",
    "code": "invalid_type",
    "path": [],
    "message": "Invalid input: expected object, received undefined"
  }
] {"stack":"ZodError: [\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  }\n]\n    at registerNewOrgs (/Users/mac/My Projects/DonationPlatform/server/src/modules/orgs/orgs.controller.ts:8:35)\n    at Layer.handleRequest (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/lib/layer.js:152:17)\n    at /Users/mac/My Projects/DonationPlatform/server/node_modules/router/index.js:295:15\n    at processParams (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/index.js:582:12)\n    at next (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/mac/My Projects/DonationPlatform/server/node_modules/router/index.js:186:3)","path":"/api/v1/orgs","method":"POST"}
[2026-01-28 09:35:30] [INFO]: New database connection established
[2026-01-28 09:35:30] [INFO]: Database connection successful: Wed Jan 28 2026 09:35:30 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:35:45] [ERROR]: Error occurred: column "ABN" of relation "orgs" does not exist {"stack":"error: column \"ABN\" of relation \"orgs\" does not exist\n    at /Users/mac/My Projects/DonationPlatform/server/node_modules/pg/lib/client.js:588:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at OrgsRepository.insertOrgs (/Users/mac/My Projects/DonationPlatform/server/src/modules/orgs/orgs.repository.ts:24:20)\n    at OrgsService.createOrgs (/Users/mac/My Projects/DonationPlatform/server/src/modules/orgs/orgs.service.ts:43:16)\n    at registerNewOrgs (/Users/mac/My Projects/DonationPlatform/server/src/modules/orgs/orgs.controller.ts:10:16)","path":"/api/v1/orgs","method":"POST"}
[2026-01-28 09:38:19] [INFO]: New database connection established
[2026-01-28 09:38:19] [INFO]: Database connection successful: Wed Jan 28 2026 09:38:19 GMT+0500 (Pakistan Standard Time)
[2026-01-28 09:38:20] [INFO]: Applying 1 migrations to org_xenith
[2026-01-28 09:38:20] [INFO]: Applied migration 1_create_user_profile to org_xenith
